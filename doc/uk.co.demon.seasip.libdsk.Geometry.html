<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Sat Apr 06 23:51:09 GMT 2002 -->
<title>
  Class uk.co.demon.seasip.libdsk.Geometry
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-uk.co.demon.seasip.libdsk.html">This Package</a>  <a href="uk.co.demon.seasip.libdsk.FormatType.html#_top_">Previous</a>  <a href="uk.co.demon.seasip.libdsk.LibDsk.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class uk.co.demon.seasip.libdsk.Geometry
</h1>
<pre>
java.lang.Object
   |
   +----uk.co.demon.seasip.libdsk.Geometry
</pre>
<hr>
<dl>
  <dt> public class <b>Geometry</b>
  <dt> extends Object
</dl>
The Geometry class holds information used to convert physical to/from logical
 sectors and to access the disc.
<p>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#cylinders"><b>cylinders</b></a>
  <dd> Number of cylinders in this disc.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#datarate"><b>datarate</b></a>
  <dd> Data rate.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#fm"><b>fm</b></a>
  <dd> True if this disc Uses FM recording mode.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#fmtgap"><b>fmtgap</b></a>
  <dd> Format gap length
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#heads"><b>heads</b></a>
  <dd> Number of heads (sides) on this disc.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#nomulti"><b>nomulti</b></a>
  <dd> True to disable multitrack operation.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RATE_DD"><b>RATE_DD</b></a>
  <dd> Data rate for 360k  5.25" in 1.2Mb drive
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RATE_ED"><b>RATE_ED</b></a>
  <dd> Data rate for 2.8Mb 3.5"  in 3.5"  drive
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RATE_HD"><b>RATE_HD</b></a>
  <dd> Data rate for 1.4Mb 3.5"  in 3.5"  drive
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RATE_SD"><b>RATE_SD</b></a>
  <dd> Data rate for 720k  3.5"  in 3.5"  drive
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#rwgap"><b>rwgap</b></a>
  <dd> Read/write gap length
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#secbase"><b>secbase</b></a>
  <dd> First physical sector number.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#secsize"><b>secsize</b></a>
  <dd> Sector size in bytes.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#sectors"><b>sectors</b></a>
  <dd> Sectors per track.
  <dt> <img src="images/magenta-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#sidedness"><b>sidedness</b></a>
  <dd> How to handle discs with 2 or more heads.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#SIDES_ALT"><b>SIDES_ALT</b></a>
  <dd> Track n is cylinder (n/heads) head (n%heads)
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#SIDES_OUTBACK"><b>SIDES_OUTBACK</b></a>
  <dd> Tracks go out and back.
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#SIDES_OUTOUT"><b>SIDES_OUTOUT</b></a>
  <dd> Tracks cover all side 0, then all side 1.
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Geometry()"><b>Geometry</b></a>()
  <dd> 
</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#cpm86Geometry(byte[])"><b>cpm86Geometry</b></a>(byte[])
  <dd> Initialise this class from a CP/M-86 boot sector.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#dg_lt2pt(int, int[])"><b>dg_lt2pt</b></a>(int, int[])
  <dd> Convert logical track to physical cylinder/head.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#dosGeometry(byte[])"><b>dosGeometry</b></a>(byte[])
  <dd> Initialise this class from a DOS boot sector.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ls2ps(int, int[])"><b>ls2ps</b></a>(int, int[])
  <dd> Convert logical sector to physical cylinder / head /sector.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#pcwGeometry(byte[])"><b>pcwGeometry</b></a>(byte[])
  <dd> Initialise this class from a PCW boot sector.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ps2ls(int, int, int)"><b>ps2ls</b></a>(int, int, int)
  <dd> Convert physical cylinder/head/sector to logical sector.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#pt2lt(int, int)"><b>pt2lt</b></a>(int, int)
  <dd> Convert physical cylinder/head to logical track.
</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="SIDES_ALT"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>SIDES_ALT</b>
<pre>
 public static final int SIDES_ALT
</pre>
<dl>
  <dd> Track n is cylinder (n/heads) head (n%heads)<p>
</dl>
<a name="SIDES_OUTBACK"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>SIDES_OUTBACK</b>
<pre>
 public static final int SIDES_OUTBACK
</pre>
<dl>
  <dd> Tracks go out and back. Like this:
<pre>
(head 0) 0,1,2,3,...37,38,39, then
(head 1) 39,38,37,...,2,1,0</pre><p>
</dl>
<a name="SIDES_OUTOUT"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>SIDES_OUTOUT</b>
<pre>
 public static final int SIDES_OUTOUT
</pre>
<dl>
  <dd> Tracks cover all side 0, then all side 1. Like this:
<pre>
(head 0) 0,1,2,3,...37,38,39, then
(head 1) 0,1,2,3....37,38,39</pre><p>
</dl>
<a name="RATE_HD"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RATE_HD</b>
<pre>
 public static final int RATE_HD
</pre>
<dl>
  <dd> Data rate for 1.4Mb 3.5"  in 3.5"  drive<p>
</dl>
<a name="RATE_DD"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RATE_DD</b>
<pre>
 public static final int RATE_DD
</pre>
<dl>
  <dd> Data rate for 360k  5.25" in 1.2Mb drive<p>
</dl>
<a name="RATE_SD"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RATE_SD</b>
<pre>
 public static final int RATE_SD
</pre>
<dl>
  <dd> Data rate for 720k  3.5"  in 3.5"  drive<p>
</dl>
<a name="RATE_ED"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RATE_ED</b>
<pre>
 public static final int RATE_ED
</pre>
<dl>
  <dd> Data rate for 2.8Mb 3.5"  in 3.5"  drive<p>
</dl>
<a name="sidedness"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>sidedness</b>
<pre>
 public int sidedness
</pre>
<dl>
  <dd> How to handle discs with 2 or more heads.<p>
  <dd><dl> 
    <dt> <b>See Also:</b>
    <dd> <a href="#SIDES_ALT">SIDES_ALT</a>, <a href="#SIDES_OUTBACK">SIDES_OUTBACK</a>, <a href="#SIDES_OUTOUT">SIDES_OUTOUT</a>
  </dl></dd>
</dl>
<a name="cylinders"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>cylinders</b>
<pre>
 public int cylinders
</pre>
<dl>
  <dd> Number of cylinders in this disc.<p>
</dl>
<a name="heads"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>heads</b>
<pre>
 public int heads
</pre>
<dl>
  <dd> Number of heads (sides) on this disc.<p>
</dl>
<a name="sectors"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>sectors</b>
<pre>
 public int sectors
</pre>
<dl>
  <dd> Sectors per track.<p>
</dl>
<a name="secbase"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>secbase</b>
<pre>
 public int secbase
</pre>
<dl>
  <dd> First physical sector number.<p>
</dl>
<a name="secsize"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>secsize</b>
<pre>
 public int secsize
</pre>
<dl>
  <dd> Sector size in bytes.<p>
</dl>
<a name="datarate"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>datarate</b>
<pre>
 public int datarate
</pre>
<dl>
  <dd> Data rate.<p>
  <dd><dl> 
    <dt> <b>See Also:</b>
    <dd> <a href="#RATE_DD">RATE_DD</a>, <a href="#RATE_HD">RATE_HD</a>, <a href="#RATE_SD">RATE_SD</a>, <a href="#RATE_ED">RATE_ED</a>
  </dl></dd>
</dl>
<a name="rwgap"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>rwgap</b>
<pre>
 public byte rwgap
</pre>
<dl>
  <dd> Read/write gap length<p>
</dl>
<a name="fmtgap"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>fmtgap</b>
<pre>
 public byte fmtgap
</pre>
<dl>
  <dd> Format gap length<p>
</dl>
<a name="fm"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>fm</b>
<pre>
 public boolean fm
</pre>
<dl>
  <dd> True if this disc Uses FM recording mode. 
 The only disc I know of that are recorded in FM mode are BBC 
 Micro DFS floppies.<p>
</dl>
<a name="nomulti"><img src="images/magenta-ball.gif" width=12 height=12 alt=" o "></a>
<b>nomulti</b>
<pre>
 public boolean nomulti
</pre>
<dl>
  <dd> True to disable multitrack operation.<p>
</dl>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Geometry"></a>
<a name="Geometry()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Geometry</b>
<pre>
 public Geometry()
</pre>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="ps2ls(int, int, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="ps2ls"><b>ps2ls</b></a>
<pre>
 public native int ps2ls(int cyl,
                         int head,
                         int sect) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Convert physical cylinder/head/sector to logical sector.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> cyl - Physical cylinder.
    <dd> head - Physical head.
    <dd> sect - Physical sector.
    <dt> <b>Returns:</b>
    <dd> The corresponding logical sector number.
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the cylinder, head or sector are out of range.
  </dl></dd>
</dl>
<a name="ls2ps(int, int[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="ls2ps"><b>ls2ps</b></a>
<pre>
 public native void ls2ps(int logical,
                          int chs[]) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Convert logical sector to physical cylinder / head /sector.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> logical - The logical sector number to convert.
    <dd> chs - An array of three integers which will receive cylinder, head and sector.
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the logical sector is out of range.
  </dl></dd>
</dl>
<a name="pt2lt(int, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="pt2lt"><b>pt2lt</b></a>
<pre>
 public native int pt2lt(int cyl,
                         int head) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Convert physical cylinder/head to logical track.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> cyl - Physical cylinder.
    <dd> head - Physical head.
    <dt> <b>Returns:</b>
    <dd> The corresponding logical track number.
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the cylinder or head are out of range.
  </dl></dd>
</dl>
<a name="dg_lt2pt(int, int[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="dg_lt2pt"><b>dg_lt2pt</b></a>
<pre>
 public native void dg_lt2pt(int logical,
                             int ch[]) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Convert logical track to physical cylinder/head.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> logical - The logical track number to convert.
    <dd> ch - An array of two integers which will receive cylinder and head.
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the track is out of range.
  </dl></dd>
</dl>
<a name="dosGeometry(byte[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="dosGeometry"><b>dosGeometry</b></a>
<pre>
 public native void dosGeometry(byte bootsect[]) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Initialise this class from a DOS boot sector.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> bootsect - The boot sector to read the disc geometry from
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the boot sector is not a valid
                         DOS boot sector.
  </dl></dd>
</dl>
<a name="pcwGeometry(byte[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="pcwGeometry"><b>pcwGeometry</b></a>
<pre>
 public native void pcwGeometry(byte bootsect[]) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Initialise this class from a PCW boot sector.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> bootsect - The boot sector to read the disc geometry from
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the boot sector is not a valid
                         PCW boot sector.
  </dl></dd>
</dl>
<a name="cpm86Geometry(byte[])"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="cpm86Geometry"><b>cpm86Geometry</b></a>
<pre>
 public native void cpm86Geometry(byte bootsect[]) throws <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
</pre>
<dl>
  <dd> Initialise this class from a CP/M-86 boot sector.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> bootsect - The boot sector to read the disc geometry from
    <dt> <b>Throws:</b> <a href="uk.co.demon.seasip.libdsk.DskException.html#_top_">DskException</a>
    <dd> Thrown if the boot sector is not a valid
                         CP/M-86 boot sector.
  </dl></dd>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-uk.co.demon.seasip.libdsk.html">This Package</a>  <a href="uk.co.demon.seasip.libdsk.FormatType.html#_top_">Previous</a>  <a href="uk.co.demon.seasip.libdsk.LibDsk.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
